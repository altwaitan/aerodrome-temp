{% extends "base.html" %}
{% block title %}
    Index
{% endblock title %}
{% block content %}
<div class="site-content-contain">
    <div id="content" class="site-content">                    
        <div id="primary" class="content-area">
            <main id="main" class="site-main" role="main">
                <article class="page">                                
                    <div class="entry-content">  
                        <div class="container-fluid hero-section m-b-35" style="background-image: url(&#39;{{ url_for('static', filename='assets/images/icons/IMG_7993.jpg') }}&#39;); background-position: center center;">  
                        </div>

                
                        <div class="container m-t-90">
                            <div class="row">                                    
                                <div class="col-sm-12"> 
                                    <div class="heading-block m-b-10">
                                        <h1 class="block-size-4">
                                            Aerodrome
                                        </h1>
                                    </div>
                                    <div class="text-block m-b-45">
                                        <p class="medium">
                                            The Aerodrome at UC San Diego is a research facility provided by the <a href="https://contextualrobotics.ucsd.edu/" style="color: #182B49;">Contextual Robotics Institute</a> to enable controlled outdoor research with Unmanned Aerial Vehicles (UAVs). Constructed in 2017 with funding from our partners at Qualcomm and Northrop Grumman and instrumented with a motion capture system in 2022 through the generous support of the AFOSR DURIP program, the UCSD Aerodrome supports research and collaboration in autonomous flight, perception, machine learning and multi-vehicle collaboration. The facility offers a computer control room and an enclosed mesh cage, roughly 45 x 55 feet in area and 35 feet in height. The space is available to UC San Diego researchers and students. Refer to the information below for requesting access to the facility and scheduling use time.
                                        </p>
                                    </div>

                                    <div class="row">                                    
                                        <div class="col-md-3 m-b-25">
                                            <div class="icon-box">
                                                <img src="{{ url_for('static', filename='assets/images/icons/icons8-surface-50.png') }}" class="figure-img img-fluid" alt="Space">
                                                <h4>Space</h4> 
                                                <h7>45' x 55' x 35'</h7>                                                                     
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-b-25">
                                            <div class="icon-box">
                                                <img src="{{ url_for('static', filename='assets/images/icons/icons8-sensor-50.png') }}" class="figure-img img-fluid" alt="Mocap">
                                                <h4>MoCap</h4> 
                                                <h7>32 cameras</h7>                                                                    
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-b-25">
                                            <div class="icon-box">
                                                <img src="{{ url_for('static', filename='assets/images/icons/worldwide-shipping.png') }}" class="figure-img img-fluid" alt="Office">
                                                <h4>Office</h4>
                                                <h7>5 x 5 x 3</h7>                                                                      
                                            </div>
                                        </div>
                                        <div class="col-md-3 m-b-25">
                                            <div class="icon-box">
                                                <img src="{{ url_for('static', filename='assets/images/icons/location.png') }}" class="figure-img img-fluid" alt="Location">
                                                <h4>Location</h4>
                                                <h7>9500 Gilman Drive</h7>                                                                     
                                            </div>
                                        </div>
                                    </div>    

                                    <div class="row m-t-65 m-b-15">                                    
                                        <div class="col-sm-12">
                                            <div class="heading-block text-left">
                                                <h1 class="block-size-4">
                                                    Usage Schedule 
                                                </h1>
                                            </div>
                                        </div>
                                    </div>    

                                    <div class="row">                                    
                                        <div class="col-md-6 m-b-40">
                                            <div class="text-block m-b-45">
                                                <p class="medium">
                                                    If you are interested in using the UCSD Aerodrome, please register using the registration page below. We will be happy to grant you permission to schedule a time slot.
                                                    <!--If you have any questions or would like more information about our Aerodrome and how it can support your research, please do not hesitate to reach out to us on our contact page.-->
                                                </p>
                                                <div class="btn-container solid">
                                                    <a href="/register" title="Register Now">REGISTER</a>
                                                </div>
                                                <br>
                                                <br>
                                                <!--FORM -->
                                                <div class="heading-block text-left">
                                                    <h1 class="block-size-4">
                                                        Reserve your timeslot  
                                                    </h1>
                                                </div>
                                                <div role="form" class="kraftcf">                                                    
                                                    <form action="/create-event" method="post" class="kraftcf-form">                                                       
                                                        <div class="contact-form-main">
                                                            <div class="contact-form-fields-wrap clearfix">
                                                                <div class="contact-form-fields">
                                                                    <input type="text" id="name" name="name" placeholder="Name*" required>
                                                                </div>
                                                                <div class="contact-form-fields">
                                                                    <input type="email" name="email" value="" placeholder="Email*" required>
                                                                </div>
                                                                <div class="contact-form-fields">
                                                                    <input type="text" name="title" value="" placeholder="Title*" required>
                                                                </div>
                                                            </div>

                                                            <div class="contact-form-fields-wrap clearfix">
                                                                <div class="contact-form-fields">
                                                                    <input type="date" name="date" placeholder="Date*" required>
                                                                </div>
                                                                <div class="contact-form-fields">
                                                                    <input type="time" id="start-time" name="start-time" onchange="validateTime(this)" onfocus="if(this.value=='00:00') { this.value = ''; }" onblur="if(this.value=='') { this.value = '00:00'; }" value="00:00" required>
                                                                </div>
                                                                <div class="contact-form-fields">
                                                                    <input type="time" id="end-time" name="end-time" onchange="validateTime(this)" onfocus="if(this.value=='00:00') { this.value = ''; }" onblur="if(this.value=='') { this.value = '00:00'; }" value="00:00" required>
                                                                </div>
                                                            </div>
                                                            <p>
                                                                <input type="submit" value="Submit" class="kraftcf-form-control kraftcf-submit">
                                                            </p>
                                                        </div>
                                                    </form>
                                                    <div id="eventCreationMessage"></div>
                                                    <!-- Login Button -->
                                                    {% if not session.get('credentials') %}
                                                    <a href="{{ auth_url }}">Login with Google</a>
                                                    {% endif %}

                                                    <!-- Logout Button -->
                                                    {% if session.get('credentials') %}
                                                    <a href="/logout">Logout</a>
                                                    {% endif %}
                                                </div>
                                            </div>
                                        </div>  

                                        <div class="col-md-6 m-b-40">
                                            <!-- Toggle Switch -->
                                            <div class="calendar-toggle">
                                                <button id="aeroButton" class="active">Aerodrome Lab</button>
                                                <button id="safeButton">Safety Agile Lab</button>
                                            </div>
                                        
                                            <!-- Calendar Iframe -->
                                            <div class="desc-list-container has-border">
                                                <!-- Aero Calendar (Initially Displayed) -->
                                                <iframe id="aeroCalendar" src="https://calendar.google.com/calendar/embed?height=600&wkst=2&bgcolor=%23ffffff&ctz=America%2FLos_Angeles&title=Aerodrome%20Schedule&showNav=1&showPrint=0&showTabs=0&showCalendars=0&src=YWVyb2Ryb21lQHVjc2QuZWR1&color=%23039BE5" style="border-width:0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
                                                <!-- Safe Calendar (Initially Hidden) -->
                                                <iframe id="safeCalendar" src="https://calendar.google.com/calendar/embed?height=600&wkst=1&bgcolor=%23ffffff&ctz=America%2FLos_Angeles&title=Safety%20Agile%20Lab&showNav=1&showPrint=0&showTabs=0&showCalendars=0&showTz=1&src=Y180NDVhYWEyNTg3YjQ4MWQxNDEwMWMzMmFlZjIyMWNkMTZmOGEwNzFiNGJmZGRkYmI3NjU4MGQ2NmQ3OTUzMDczQGdyb3VwLmNhbGVuZGFyLmdvb2dsZS5jb20&src=ZW4udXNhI2hvbGlkYXlAZ3JvdXAudi5jYWxlbmRhci5nb29nbGUuY29t&color=%237CB342&color=%230B8043" style="border-width:0; display: none;" width="800" height="600" frameborder="0" scrolling="no"></iframe>
                                            </div>
                                        </div>     
                                    </div>    



                                    <div class="row m-t-50 m-b-100">                                    
                                        <div class="col-sm-12">
                                            <div class="cta style-2">	
                                                <h2>						
                                                    Let's work together! 								
                                                </h2>				
                                                <div class="btn-container solid">
                                                    <a href="contact.html" title="GET IN TOUCH">GET IN TOUCH</a>
                                                </div>				
                                            </div>
                                        </div>
                                    </div>
                                </div>                                                                                               
                            </div>                                

                        </div> <!-- Container -->

                    </div>
                </article>        
            </main><!-- #main -->
        </div><!-- #primary -->                                
    </div><!-- #content -->
</div> <!-- .site-content-contain -->        
<!-- JavaScript for Toggle Switch -->
<script>
    document.getElementById('aeroButton').addEventListener('click', function() {
        document.getElementById('aeroCalendar').style.display = 'block';
        document.getElementById('safeCalendar').style.display = 'none';
        this.classList.add('active');
        document.getElementById('safeButton').classList.remove('active');
    });

    document.getElementById('safeButton').addEventListener('click', function() {
        document.getElementById('safeCalendar').style.display = 'block';
        document.getElementById('aeroCalendar').style.display = 'none';
        this.classList.add('active');
        document.getElementById('aeroButton').classList.remove('active');
    });

    function validateTime(input) {
        var time = input.value;
        var hours = time.split(':')[0]; // Get the hour part
        var minutes = time.split(':')[1]; // Get the minute part

        if (minutes !== '00') { // Check if minutes are not '00'
            input.value = hours + ':00'; // Set minutes to '00'
        }
    }

    document.getElementById('start-time').value = '00:00';
    document.getElementById('end-time').value = '00:00'; 
</script>
{% endblock content %}